<!DOCTYPE html>
<html lang="en">

<head>
  <script>
    (function () {
      "use strict";

      // 1. القفل الفوري (إخفاء الصفحة فوراً)
      document.documentElement.style.display = 'none';

      const poisonPage = () => {
        document.body.innerHTML = '<div style="display:flex;justify-content:center;align-items:center;height:100vh;background:#000;color:#ff0000;font-family:sans-serif;direction:rtl;"><h1>⚠️ تم قفل الوصول لحماية المحتوى</h1></div>';
        window.location.replace("about:blank");
      };

      // 2. نظام "الألغام اللحظية" (الدمج بين الفحص والـ Debugger)
      const checkSecurity = () => {
        const start = performance.now();
        debugger;
        const end = performance.now();
        if (end - start > 50) return poisonPage();

        const threshold = 160;
        if (window.outerWidth - window.innerWidth > threshold || window.outerHeight - window.innerHeight > threshold) {
          poisonPage();
        }
      };

      // 3. مستمعات الأحداث (المنع الشامل)
      const preventAll = (e) => e.preventDefault();

      ['contextmenu', 'selectstart', 'dragstart', 'copy', 'cut', 'paste'].forEach(event => {
        document.addEventListener(event, preventAll);
      });

      // 4. منع الاختصارات (F12, Ctrl+Shift+I/J/C, Ctrl+U, Ctrl+S, Ctrl+P)
      window.addEventListener('keydown', (e) => {
        // الأكواد: 123=F12, 73=I, 74=J, 67=C, 85=U, 83=S, 80=P, 118=F6
        const forbiddenKeys = [123, 73, 74, 67, 85, 83, 80, 118];
        const isMetaKey = e.ctrlKey || e.shiftKey || e.altKey || e.metaKey;

        if (
          forbiddenKeys.includes(e.keyCode) ||
          (isMetaKey && forbiddenKeys.includes(e.keyCode)) ||
          (e.ctrlKey && e.shiftKey && e.keyCode === 73) // Ctrl+Shift+I
        ) {
          e.preventDefault();
          poisonPage();
          return false;
        }
      }, true);

      // 5. تشغيل الفحص الدوري
      setInterval(checkSecurity, 100);

      // 6. تعطيل الكونسول وتصفيتها
      if (typeof console !== "undefined") {
        ['log', 'debug', 'info', 'warn', 'error', 'clear'].forEach(method => {
          console[method] = () => { };
        });
        setInterval(() => console.clear(), 10);
      }

      // 7. منع الـ Iframe
      if (window.self !== window.top) window.top.location = window.self.location;

      // 8. الإظهار المشروط
      window.onload = () => {
        checkSecurity();
        document.documentElement.style.display = 'block';
      };

      window.onresize = checkSecurity;

    })();
  </script>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Admin Dashboard - ALI ZENALABDIN SAHARI</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="./style.css" />
</head>

<body>
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="container">
      <a href="#" class="navbar-brand">
        <i class="fas fa-utensils me-2"></i>
        Admin Dashboard</a>

      <div>
        <span class="navbar-text me-2"><i class="fas fa-user me-2"></i> Admin</span>
        <button onclick="logout()" class="btn btn-outline-light">
          Logout
        </button>
      </div>
    </div>
  </nav>
  <div class="container-fluid">
    <div class="row">
      <nav class="col-md-3 col-lg-2 d-md-block bg-light sidebar">
        <div class="position-sticky pt-3">
          <ul class="nav flex-column">
            <li class="nav-item">
              <a href="#" class="nav-link active" onclick="showSection('overview')">
                <i class="fas fa-tachometer-alt me-1"></i> Overview</a>
            </li>
            <li class="nav-item">
              <a href="#" class="nav-link" onclick="showSection('order')">
                <i class="fas fa-shopping-cart me-1"></i> Orders</a>
            </li>
            <li class="nav-item">
              <a href="#" class="nav-link" onclick="showSection('menu')">
                <i class="fas fa-utensils me-1"></i> Menu Management</a>
            </li>
            <li class="nav-item">
              <a href="#" class="nav-link" onclick="showSection('customers')">
                <i class="fas fa-users me-1"></i> Customers</a>
            </li>
            <li class="nav-item">
              <a href="./index.html" class="nav-link">
                <i class="fas fa-arrow-left me-1"></i> Back to website</a>
            </li>
          </ul>
        </div>
      </nav>

      <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
        <div class="pt-3 pb-2 border-bottom">
          <h1>Dashboard</h1>
        </div>
        <!---------------------------------------  overview ------------------------------------ -->
        <div id="overview" class="dashboard-section">
          <div class="row mt-1">
            <div class="col-md-6 mt-2">
              <div class="card border-left-primary shadow h-100 py-2">
                <div class="card-body">
                  <div class="row no-gutters align-items-center">
                    <div class="col mr-2">
                      <div class="text-xs font-weight-bold text-primary text-uppercase mb-1">
                        Total Orders
                      </div>
                      <div class="h5 mb-0 font-weight-bold text-gray-800" id="admin-total-orders">
                        0
                      </div>
                    </div>
                    <div class="col-auto"></div>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-md-6 mt-2">
              <div class="card border-left-success shadow h-100 py-2">
                <div class="card-body">
                  <div class="row no-gutters align-items-center">
                    <div class="col mr-2">
                      <div class="text-xs font-weight-bold text-success text-uppercase mb-1">
                        Total Customers
                      </div>
                      <div class="h5 mb-0 font-weight-bold text-gray-800" id="admin-total-customers">
                        0
                      </div>
                    </div>
                    <div class="col-auto"></div>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-md-6 mt-2">
              <div class="card border-left-info shadow h-100 py-2">
                <div class="card-body">
                  <div class="row no-gutters align-items-center">
                    <div class="col mr-2">
                      <div class="text-xs font-weight-bold text-info text-uppercase mb-1">
                        Total Products
                      </div>
                      <div class="h5 mb-0 font-weight-bold text-gray-800" id="admin-total-products">
                        -
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="col-md-6 mt-2">
              <div class="card border-left-warning shadow h-100 py-2">
                <div class="card-body">
                  <div class="row no-gutters align-items-center">
                    <div class="col mr-2">
                      <div class="text-xs font-weight-bold text-warning text-uppercase mb-1">
                        Total Revenue
                      </div>
                      <div class="h5 mb-0 font-weight-bold text-gray-800" id="admin-total-revenue">
                        $0
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="row mt-3">
            <div class="col-lg-12">
              <div class="card shadow mb-4">
                <div class="card-header py-3">
                  <h6 class="m-0 font-weight-bold text-primary">
                    Recent Orders
                  </h6>
                </div>
                <div class="card-body">
                  <div class="table-responsive">
                    <table class="table table-bordered" width="100%" cellspacing="0">
                      <thead>
                        <tr>
                          <th>Order ID</th>
                          <th>Customer</th>
                          <th>Date</th>
                          <th>Items</th>
                          <th>Total</th>
                          <th>Status</th>
                        </tr>
                      </thead>
                      <tbody id="admin-recent-orders-body">
                        <!-- Filled via JS -->
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!----------------------------------------- order ------------------------ -->
        <div id="order" class="dashboard-section" style="display: none">
          <div class="card">
            <h2>Order Management</h2>

            <div class="card-body">
              <div class="table-responsive">
                <table class="table table-bordered" width="100%" cellspacing="0">
                  <thead>
                    <tr>
                      <th>Order ID</th>
                      <th>Customer</th>
                      <th>Date</th>
                      <th>Status</th>
                      <th>Total</th>
                      <th>Actions</th>
                    </tr>
                  </thead>
                  <tbody id="admin-all-orders-body">
                    <!-- Filled via JS -->
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>

        <!-- ------------------------------- menu management ------------------------------------ -->

        <div id="menu" class="dashboard-section" style="display: none">
          <div class="card">
            <h2>Menu Management</h2>
          </div>
          <!-- ... menu body ... -->
        </div>
        <!-- ------------------------------- Customers ------------------------------------ -->
        <div id="customers" class="dashboard-section" style="display: none">
          <div class="card">
            <h2>Customers</h2>
            <div class="card-body">
              <div class="table-responsive">
                <table class="table table-bordered" width="100%" cellspacing="0">
                  <thead>
                    <tr>
                      <th>Name</th>
                      <th>Email</th>
                      <th>Role</th>
                    </tr>
                  </thead>
                  <tbody id="admin-customers-body">
                    <!-- Filled via JS -->
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </main>
    </div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="script.js"></script>
</body>

</html>